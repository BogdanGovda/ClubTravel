import"./main2.js";/* empty css       *//* empty css          *//* empty css            */import{N as D,P as w}from"./pagination2.js";import{Swiper as A}from"./swiper.js";import{a as j}from"./api.js";import{g as X,a as x}from"./hotels.js";import{g as z}from"./listHotel.js";import{h as y}from"./hotDealsCard.js";import"./authorization2.js";import"./utils.js";import"./variables.js";import"./skeleton.js";function S(a={}){const c=(r=>{if(typeof atob=="function"&&typeof TextDecoder<"u"){const o=atob(r),d=new Uint8Array(o.length);for(let C=0;C<o.length;C++)d[C]=o.charCodeAt(C);return new TextDecoder("utf-8").decode(d)}if(typeof Buffer<"u")return Buffer.from(r,"base64").toString("utf-8");const e=atob(r);try{return decodeURIComponent(escape(e))}catch{return e}})("PGZvcm0gY2xhc3M9ImhvdGVsX19vZmZlci13cmFwcGVyIj4NCiAgPGRpdiBjbGFzcz0iaG90ZWxfX29mZmVyLXRpdGxlIj4NCiAgICA8c3Bhbj7QktGL0LHRgNCw0L3QvdGL0Lkg0YLRg9GAPC9zcGFuPg0KICAgIDxidXR0b24gdHlwZT0ic3VibWl0Ij7QuNC30LzQtdC90LjRgtGMPC9idXR0b24+DQo8L2Rpdj4NCjxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci1kYXRlcyI+DQogIDxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci1kYXRlIj4NCiAgICA8c3ZnPg0KICAgIDx1c2UgeGxpbms6aHJlZj0nI2ljb24tY2FsZW5kYXInPjwvdXNlPg0KICA8L3N2Zz4NCiAgICA8c3Bhbj4xOCDQuNGO0L3RjyAyMDIwINCzLiB8IHt7bmlnaHR9fdC90L7Rh9C10Lk8L3NwYW4+DQogIDwvZGl2Pg0KICA8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItcmFpc2UiPg0KICAgIDxzdmc+DQogICAgPHVzZSB4bGluazpocmVmPScjaWNvbi1kZXBhcnR1cmUnPjwvdXNlPg0KICA8L3N2Zz4NCiAgICA8c3Bhbj7QktGL0LvQtdGCINC40Lcge3tmcm9tfX08L3NwYW4+DQogIDwvZGl2Pg0KICA8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItZm9vZCI+DQogICAgPHN2Zz4NCiAgICA8dXNlIHhsaW5rOmhyZWY9JyNpY29uLWZvb2QnPjwvdXNlPg0KICA8L3N2Zz4NCiAgICA8c3Bhbj57e2Zvb2R9fTwvc3Bhbj4NCiAgPC9kaXY+DQogIDxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci1ob3VzZXMiPg0KICAgIDxzdmc+DQogICAgPHVzZSB4bGluazpocmVmPScjaWNvbi1hcGFydG1lbnQnPjwvdXNlPg0KICA8L3N2Zz4NCiAgICA8c3Bhbj57e2hvdXNlc319PC9zcGFuPg0KICA8L2Rpdj4NCjxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci1wcmljZSI+DQogICA8Yj57e3ByaWNlc3194oKsPC9iPg0KL9GH0LXQuw0KPC9kaXY+DQo8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItZGVzY3JpcHRpb24iPg0KPGI+0KbQtdC90LAg0L3QsCDQvtC00L3QvtCz0L4g0YfQtdC70L7QstC10LrQsCA8L2I+DQrQtNC10LnRgdGC0LLQuNGC0LXQu9GM0L3QsCDQv9GA0Lgg0YDQsNC30LzQtdGJ0LXQvdC40Lgg0LIg0LTQstGD0YXQvNC10YHRgtC90L7QvCDQvdC+0LzQtdGA0LUuINCm0LXQvdCwINC30LDQstC40YHQuNGCINC+0YIg0LrQvtC70LjRh9C10YHRgtCy0LAg0LzQtdGB0YIg0Lgg0LzQvtC20LXRgiDQuNC30LzQtdC90LjRgtGM0YHRjy4NCjwvZGl2Pg0KPGRpdiBjbGFzcz0iZ3Vlc3RzIj4NCiAgPGxhYmVsIGZvcj0iZ3Vlc3RzIj7QmtC+0LvQuNGH0LXRgdGC0LLQviDQvtGC0LTRi9GF0LDRjtGJ0LjRhTwvbGFiZWw+DQogICA8bGFiZWwgZm9yPSJvbGQiIGNsYXNzPSJsYWJlbCI+0JLQt9GA0L7RgdC70LjRhTwvbGFiZWw+DQogIDxpbnB1dCBpZD0ib2xkIiBuYW1lPSJvbGQiIHR5cGU9InRleHQiPg0KICA8bGFiZWwgZm9yPSJjaGlsZCIgY2xhc3M9ImxhYmVsIj7QtNC10YLQtdC5PC9sYWJlbD4NCiAgPGlucHV0IGlkPSJjaGlsZCIgbmFtZT0iY2hpbGQiIHR5cGU9InRleHQiPg0KPC9kaXY+DQo8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItdG90YWwiPg0KICDQntCx0YnQsNGPINGB0YLQvtC40LzQvtGB0YLRjCDRgtGD0YDQsDoNCjxzcGFuPg0KICA8YiBpZD0icHJpY2UiPjEgNDI54oKsPC9iPg0KPC9zcGFuPg0KPC9kaXY+DQo8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImhvdGVsX19vZmZlci1idXR0b24gYnV0dG9uLXByaW1hcnkiPg0KICDQkdGA0L7QvdC40YDQvtCy0LDRgtGMDQo8L2J1dHRvbj4NCjxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci1wb2xpY3kiPg0KPHN2Zz4NCiAgPHVzZSB4bGluazpocmVmPScjaWNvbi1wb2xpY3ktbG9jayc+PC91c2U+DQo8L3N2Zz4NCiAgPGRpdj4NCiAg0JLQsNGI0Lgg0LTQsNC90L3Ri9C1INC90LDQtNC10LbQvdC+INC30LDRidC40YnQtdC90Ysg0Lgg0L7QsdGA0LDQsdCw0YLRi9Cy0LDRjtGC0YHRjyDRgdC+0LPQu9Cw0YHQvdC+INGBIA0KICA8c3Bhbj4NCiAgDQogINGD0YHQu9C+0LLQuNGP0LzQuCDQvtCx0YDQsNCx0L7RgtC60Lgg0LvQuNGH0L3Ri9GFINC00LDQvdC90YvRhQ0KICA8L3NwYW4+DQoNCiAgPC9kaXY+DQo8L2Rpdj4NCjwvZGl2Pg0KPC9mb3JtPg0KICA=");let i={...a};const I="{",p="}",n=I+I,s=p+p;function R(r){let e=c,o=10,d=0;for(;d<o&&e.indexOf(n+"#if")!==-1;)d++,e=e.replace(new RegExp(`${n}#if\\s+([^}]+?)${s}([\\s\\S]*?)${n}else\\s*${s}([\\s\\S]*?)${n}\\/if\\s*${s}`,"g"),(C,L,m,G)=>r[L.trim()]?m:G),e=e.replace(new RegExp(`${n}#if\\s+([^}]+?)${s}([\\s\\S]*?)${n}\\/if\\s*${s}`,"g"),(C,L,m)=>r[L.trim()]?m:""),e=e.replace(new RegExp(`${n}#if\\s*\\((eq\\s+([^\\s]+)\\s+"([^"]+)"\\s*)\\)${s}([\\s\\S]*?)${n}else\\s*${s}([\\s\\S]*?)${n}\\/if\\s*${s}`,"g"),(C,L,m,G,f,Z)=>r[m]===G?f:Z),e=e.replace(new RegExp(`${n}#if\\s*\\((eq\\s+([^\\s]+)\\s+"([^"]+)"\\s*)\\)${s}([\\s\\S]*?)${n}\\/if\\s*${s}`,"g"),(C,L,m,G,f)=>r[m]===G?f:"");return Object.keys(r).forEach(C=>{const L=new RegExp(`${n}\\s*${C}\\s*${s}`,"g");e=e.replace(L,r[C]??"")}),e=e.replace(/\s[a-zA-Z0-9_-]+=['"]\s*['"]/g,""),e=e.replace(new RegExp(`${n}[^}]+?${s}`,"g"),""),e}function u(r){const e=R(r),o=document.createElement("div");return o.innerHTML=e.trim(),o.firstElementChild}let l=u(i);const g={};function Y(r){if(i={...i,...r},l.parentElement){const e=l.parentElement,o=u(i);return Object.keys(g).forEach(d=>o[d]=g[d]),e.replaceChild(o,l),l=o,o}else{const e=u(i);return Object.keys(g).forEach(o=>e[o]=g[o]),l=e,e}}return g.update=Y,g.toString=()=>l?.outerHTML??"",g.render=r=>(r&&r.appendChild&&r.appendChild(l),l),Object.keys(g).forEach(r=>l[r]=g[r]),l}async function H(a,t){const c=localStorage.getItem("token");try{const i=await j.post("https://natural-blessing-879c2058f8.strapiapp.com/api/orders",{data:t},{headers:{Authorization:`Bearer ${c}`}});return console.log("created ",i.data),i.data}catch(i){console.error("error:",i)}}let N=null,h=null;const P=new URLSearchParams(window.location.search),b=P.get("id"),v=P.get("type");v==="hotel"&&(N=await X(b));v==="search"&&(h=await x(b));function B(){const a=document.querySelector(".hotel__offer");if(!a)return;const t=N||h;if(!t)return;const c=S({night:7,from:t.from??t.town,food:t.food??"Завтраки",houses:t.package??"Стандарт",prices:t.price??t.price});return a.appendChild(c)}const k=await z();function K(){document.querySelector(".mySwiperHotDeals")&&new A(".mySwiperHotDeals",{modules:[D,w],loop:!0,slidesPerView:3,spaceBetween:25,navigation:{nextEl:".swiper__hotdeals-next",prevEl:".swiper__hotdeals-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:15},768:{slidesPerView:2,spaceBetween:28},1200:{slidesPerView:3,spaceBetween:26}}})}function V(){const a=document.querySelector(".hotdeals__container");a&&k.forEach(t=>{let c="";for(let I=0;I<t.stars;I++)c+=`
      <svg class="hotdeals__category-star">
      <use xlink:href="#icon-star-shiny"></use>
      </svg>`;const i=y({img:t.img[0].url,data:t.data,location:t.location,title:t.title,price:t.price,oldPrice:t.oldPrice,priceCount:t.priceCount,stars:c});a.appendChild(i)})}B();V();K();async function $(){const a=Date.now(),t=new Date().toISOString(),c=localStorage.getItem("userId");if(!c){console.log("не авторизований користувач"),window.location.href="/ClubTravel/html/pages/authorization.html?tab=authorization";return}const i={orderNumber:a,orderPrice:679,orderStatus:!1,orderDate:t,users_permissions_user:c};try{await H(c,i),console.log("замовлення додано")}catch(I){console.log("error:",I)}}const Q=document.querySelector(".hotel__offer-button");Q&&Q.addEventListener("click",$);
